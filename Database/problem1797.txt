b"\nRead problem statements in Hindi, Bengali, Mandarin Chinese, Russian, and Vietnamese as well.\nChef loves to play with matrices. One day in the kitchen, he found the following problem in his cookbook: You are given a matrix of integers with 33 rows and 33 columns (both rows and columns are numbered 1,2,31,2,3) and a target matrix, also with 3 rows and 3 columns. You should transform the initial matrix into the target matrix by performing N operations.\nEach operation is specified by parametres A, X, D, S and corresponds to cyclically shifting a row or a column of the matrix. Valid operations must satisfy 1\xe2\x89\xa4X\xe2\x89\xa43 and 1\xe2\x89\xa4A,D,S\xe2\x89\xa42. There are four types of operations:\n\nA=1 and D=1: shift row X to the left, i.e. move the first element of this row to the end, S times\nA=1 and D=2: shift row X to the right, i.e. move the last element of this row to the beginning, S times\nA=2 and D=1: shift column X upwards, i.e. move the top element of this column to the bottom, S times\nA=2 and D=2: shift column X downwards, i.e. move the bottom element of this row to the top, S times\n\nFor example, applying an operation 1 2 1 2 on the matrix\n7 7 7\n2 4 5\n7 7 7\n\nresults in the matrix\n7 7 7\n5 2 4\n7 7 7\n\nbecause it means that left cyclic shift should be applied two times on the second row, so this row is transformed from 2 4 5 into 4 5 2 and then into 5 2 4.\nApplying an operation 2 1 2 1 on the matrix\n4 9 9\n2 9 9\n7 9 9\n\nresults in the matrix\n7 9 9\n4 9 9\n2 9 9\n\nbecause it means that right cyclic shift should be applied once on the first column, so this column is transformed from 4 2 7 into 7 4 2.\nIn this case, Chef has the initial matrix M, the target matrix T and a sequence of only N\xe2\x88\x921 operations. He wants to insert one operation into this sequence (possibly at the beginning or at the end) without reordering the remaining operations. The resulting sequence of N operations is applied on the matrix M, i.e. the first operation is applied on M, the second operation on the result of the first one and so on. Let's call the result of the last operation the final matrix.\nYou have to find the number of ways to insert an operation into the sequence such that the final matrix is the matrix T. Two ways to insert an operation are different if the operation is inserted at a different position or if it has a different A, X, D or S.\nInput\n\nThe first line of the input contains a single integer N.\nN\xe2\x88\x921 lines follow. Each of these lines contains four space-separated integers A, X, D and S describing one operation.\nThe following three lines describe the initial matrix. For each i (1\xe2\x89\xa4i\xe2\x89\xa43), the i-th of these lines contains three space-separated integers Mi,1, Mi,2 and Mi,3 denoting the elements of the i-th row of this matrix.\nThe following three lines describe the target matrix. For each i (1\xe2\x89\xa4i\xe2\x89\xa43), the i-th of these lines contains three space-separated integers Ti,1, Ti,2 and Ti,3 denoting the elements of the i-th row of this matrix.\n\nOutput\nPrint a single line containing one integer \xe2\x80\x94 the number of valid ways to insert an operation.\nConstraints\n\n1\xe2\x89\xa4N\xe2\x89\xa420,000\n1\xe2\x89\xa4Mi,j,Ti,j\xe2\x89\xa49 for each valid i,j\n1\xe2\x89\xa4X\xe2\x89\xa43\n1\xe2\x89\xa4A,D,S\xe2\x89\xa42\n\nExample Input 1\n2\n1 3 1 1\n1 1 1\n1 1 1\n1 1 1\n1 1 1\n1 1 1\n1 1 1\n\nExample Output 1\n48\n\nExplanation\nYou can insert any operation at any position, that is, either before or after the only given operation.\nExample Input 2\n2\n1 3 1 1\n1 1 1\n1 1 1\n1 1 1\n1 1 1\n1 1 1\n1 1 2\n\nExample Output 2\n0 \n\nExplanation\nThere is no valid way to insert an operation, since it is impossible to obtain the target matrix.\nExample Input 3\n1\n1 2 3\n4 5 6\n7 8 9\n1 2 9\n4 5 3\n7 8 6\n\nExample Output 3\n2\n\nExplanation\nThe sequence of N\xe2\x88\x921 operations is empty, so there is only one position in which one operation can be inserted. The two operations that can be used to obtain the target matrix from the initial matrix are 2 3 1 2 and 2 3 2 1.\n\n\n\nAuthor:\n5\xe2\x98\x85vipsharmavip\n\n\nEditorial:\nhttps://discuss.codechef.com/problems/MTRXOP\n\n\nTags:\n\n               \n                 Implementation\n                 \n                     \n                     Algorithms\n                 \n               \n             \n             \n\n\n\n                        Difficulty Rating:\n                    \n\nN/A\n\n\nDate Added:\n8-02-2019\n\n\nTime Limit:\n1 secs\n\n\nSource Limit:\n50000 Bytes\n\n\nLanguages:\nCPP17, PYTH 3.6, JAVA, C, CPP14, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, kotlin, PERL, SCALA, LUA, BASH, JS, rust, LISP sbcl, PAS gpc, BF, CLOJ, D, CAML, swift, FORT, ASM, FS, WSPC, LISP clisp, SCM guile, PERL6, ERL, CLPS, PRLG, ICK, NICE, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM\n\n\n\n\n\nSubmit\n\n"